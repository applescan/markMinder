(()=>{"use strict";let e=1;const t=JSON.parse(localStorage.getItem("bookmarks"))||[],n=20;function o(){const e="dark"===document.documentElement.getAttribute("data-theme"),t=document.getElementById("theme-icon").querySelector("i");document.documentElement.setAttribute("data-theme",e?"light":"dark"),t.className=e?"fas fa-moon":"fas fa-sun"}function r(){l(e)}function c(e,n,o){const c=document.getElementById("card-template").content.cloneNode(!0);c.querySelector(".title.is-6").innerText=e;const i=c.querySelector(".url");i.href=n,i.innerText=n;const a=c.querySelector("#edit"),l=c.querySelector("#delete");return a.addEventListener("click",(()=>function(e){const n=t[e],o=prompt("Enter new bookmark name:",n.name),c=prompt("Enter new bookmark URL:",n.url);o&&c&&(t[e]={name:o,url:c},localStorage.setItem("bookmarks",JSON.stringify(t)),r())}(o))),l.addEventListener("click",(()=>function(e){confirm("Are you sure you want to delete this bookmark?")&&(t.splice(e,1),localStorage.setItem("bookmarks",JSON.stringify(t)),r())}(o))),c.firstElementChild}document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.getElementById("theme-icon").querySelector("i"),t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",t?"dark":"light"),e.className=t?"fas fa-sun":"fas fa-moon",document.getElementById("theme-icon").addEventListener("click",o)}(),r()}));let i=1;function a(e){return Math.ceil(e/n)}function l(e){if(0===t.length)return document.getElementById("bookmark-list").innerHTML="<p>No bookmarks stored.</p>",void s(1,0);e<1?e=1:e>a(t.length)&&(e=a(t.length)),i=e;const o=document.getElementById("bookmark-list");o.innerHTML="";const r=(i-1)*n,l=Math.min(r+n,t.length);for(let e=r;e<l;e++){const n=c(t[e].name,t[e].url,e);o.appendChild(n)}s(i,t.length)}function d(e){const n=a(t.length);i="next"===e?Math.min(i+1,n):Math.max(i-1,1),l(i)}function s(e,t){const n=document.getElementById("pagination-next"),o=document.getElementById("pagination-previous"),r=a(t);m(n,e>=r||r<=1),m(o,e<=1);const c=document.querySelector(".pagination-list");if(c.innerHTML="",!(r<=1))for(let t=1;t<=r;t++){const n=document.createElement("li"),o=u(t,e);n.appendChild(o),c.appendChild(n)}}function m(e,t){e.style.visibility=t?"hidden":"visible"}function u(e,t){const n=document.createElement("a");return n.className="pagination-link",n.href=`#page${e}`,n.textContent=e,n.onclick=()=>l(e),e===t&&n.classList.add("is-current"),n}function g(){i>1&&l(i-1)}function f(){i<a(t.length)&&l(i+1)}window.onload=function(){!function(){const e=document.getElementById("pagination-next"),t=document.getElementById("pagination-previous");e&&t&&(e.addEventListener("click",(()=>d("next"))),t.addEventListener("click",(()=>d("prev"))))}(),l(i)};let h=1,p="";function k(e){let o=t;if(p&&(o=t.filter((e=>e.name.toLowerCase().includes(p)))),0===o.length)return document.getElementById("bookmark-list").innerHTML="<p>No bookmarks</p>",void s(1,0);const r=Math.ceil(o.length/n);e<1?e=1:e>r&&(e=r),h=e;const i=document.getElementById("bookmark-list");i.innerHTML="";let a=(h-1)*n,l=Math.min(a+n,o.length);for(let e=a;e<l;e++){const t=c(o[e].name,o[e].url,e);i.appendChild(t)}s(h,o.length)}window.onload=function(){const e=document.getElementById("pagination-next"),t=document.getElementById("pagination-previous");e&&t&&(e.addEventListener("click",f),t.addEventListener("click",g)),k(h)},document.getElementById("sort_a_z").addEventListener("click",(()=>{!function(e){const n=document.getElementById("sort_a_z");"asc"===e?(n.innerHTML="Sort Alphabetically Z-A",window.currentSortOrder="desc"):(n.innerHTML="Sort Alphabetically A-Z",window.currentSortOrder="asc"),t.sort(((t,n)=>{const o=t.name.toUpperCase(),r=n.name.toUpperCase();return"asc"===e?o.localeCompare(r):r.localeCompare(o)})),k(h)}(window.currentSortOrder||"asc")})),document.getElementById("order").addEventListener("click",(function(){t.reverse();const e=document.querySelector(".order_text");"Order by earliest to latest"===e.innerHTML?e.innerHTML="Order by latest to earliest":e.innerHTML="Order by earliest to latest",k(h)})),document.getElementById("search").addEventListener("input",(function(){const e=document.getElementById("search").value.trim().toLowerCase();p=e,k(1)})),document.getElementById("theme-toggle").addEventListener("click",o)})();