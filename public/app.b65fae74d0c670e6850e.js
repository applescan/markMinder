(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{d:()=>h});let t=1;const n=JSON.parse(localStorage.getItem("bookmarks"))||[],o=20;function r(){const e="dark"===document.documentElement.getAttribute("data-theme"),t=document.getElementById("theme-icon").querySelector("i");document.documentElement.setAttribute("data-theme",e?"light":"dark"),t.className=e?"fas fa-moon":"fas fa-sun"}function a(){h(t)}document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.getElementById("theme-icon").querySelector("i"),t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",t?"dark":"light"),e.className=t?"fas fa-sun":"fas fa-moon",document.getElementById("theme-icon").addEventListener("click",r)}()}));let i=1;function c(e){return Math.ceil(e/o)}function d(e){const t=c(n.length);i="next"===e?Math.min(i+1,t):Math.max(i-1,1),h(i)}function l(e,t){const n=document.getElementById("pagination-next"),o=document.getElementById("pagination-previous"),r=c(t);s(n,e>=r||r<=1),s(o,e<=1);const a=document.querySelector(".pagination-list");if(a.innerHTML="",!(r<=1))for(let t=1;t<=r;t++){const n=document.createElement("li"),o=m(t,e);n.appendChild(o),a.appendChild(n)}}function s(e,t){e.style.visibility=t?"hidden":"visible"}function m(e,t){const n=document.createElement("a");return n.className="pagination-link",n.href=`#page${e}`,n.textContent=e,n.onclick=()=>h(e),e===t&&n.classList.add("is-current"),n}function u(e){e.preventDefault();const t=e.target.bookmarkName.value.trim(),o=e.target.bookmarkUrl.value.trim();if(!t||!f(o))return void alert("Please enter a valid name and URL.");const r={id:Date.now(),name:t,url:o};!function(e){n.push(e);try{localStorage.setItem("bookmarks",JSON.stringify(n))}catch(e){console.error("Failed to save bookmarks:",e)}a()}(r);try{localStorage.setItem("lastSubmittedBookmark",JSON.stringify(r))}catch(e){console.error("Failed to save the last submitted bookmark:",e)}e.target.reset(),window.location.href="/result.html"}function f(e){try{return new URL(e),!0}catch(e){return!1}}function g(e,t,o){const r=document.getElementById("card-template").content.cloneNode(!0);r.querySelector(".title.is-6").innerText=e;const i=r.querySelector(".url");i.href=t,i.innerText=t;const c=r.querySelector("#edit"),d=r.querySelector("#delete");return c.addEventListener("click",(()=>function(e){const t=n.findIndex((t=>t.id===e)),o=n[t],r=prompt("Enter new bookmark name:",o.name),i=prompt("Enter new bookmark URL:",o.url);f(i)?r&&i&&(n[t]={name:r,url:i},localStorage.setItem("bookmarks",JSON.stringify(n)),a()):alert("Please enter a valid URL.")}(o))),d.addEventListener("click",(()=>function(e){if(confirm("Are you sure you want to delete this bookmark?")){const t=n.findIndex((t=>t.id===e));n.splice(t,1),localStorage.setItem("bookmarks",JSON.stringify(n)),a()}}(o))),r.firstElementChild}document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("bookmark-form").addEventListener("submit",u)}));let k=1,y="";function h(e){let t=n;if(y&&(t=n.filter((e=>e.name.toLowerCase().includes(y)))),0===t.length)return document.getElementById("bookmark-list").innerHTML="<p>No bookmarks</p>",void l(1,0);e<1?e=1:e>c(n.length)&&(e=c(n.length)),k=e;const r=document.getElementById("bookmark-list");r.innerHTML="";const a=(k-1)*o,i=Math.min(a+o,n.length);for(let e=a;e<i;e++)if(t[e]){const n=g(t[e].name,t[e].url,t[e].id);r.appendChild(n)}l(k,t.length)}window.onload=()=>{!function(){const e=document.getElementById("pagination-next"),t=document.getElementById("pagination-previous");e&&t&&(e.addEventListener("click",(()=>d("next"))),t.addEventListener("click",(()=>d("prev"))))}(),a()},document.getElementById("sort-a-z").addEventListener("click",(()=>{!function(e){const t=document.getElementById("sort-a-z");"asc"===e?(t.innerHTML="Sort Alphabetically Z-A",window.currentSortOrder="desc"):(t.innerHTML="Sort Alphabetically A-Z",window.currentSortOrder="asc"),n.sort(((t,n)=>{const o=t.name.toUpperCase(),r=n.name.toUpperCase();return"asc"===e?o>r?1:r>o?-1:0:o>r?-1:r>o?1:0})),a()}(window.currentSortOrder||"asc")})),document.getElementById("order").addEventListener("click",(function(){n.reverse();const e=document.querySelector(".order_text");"Order by earliest to latest"===e.innerHTML?e.innerHTML="Order by latest to earliest":e.innerHTML="Order by earliest to latest",a()})),document.getElementById("search").addEventListener("input",(function(){const e=document.getElementById("search").value.trim().toLowerCase();y=e,a()})),document.getElementById("theme-toggle").addEventListener("click",r)})();