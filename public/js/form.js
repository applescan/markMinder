import{bookmarks,refreshDisplay}from"./app.js";export function handleBookmarkSubmit(e){e.preventDefault();const t=e.target.bookmarkName.value.trim(),r=e.target.bookmarkUrl.value.trim(),o=document.getElementById("name-error"),a=document.getElementById("url-error");o.textContent="",a.textContent="";let n=!1;if(t||(o.textContent="Please enter a valid name.",n=!0),isValidUrl(r)||(a.textContent="Please enter a valid URL.",n=!0),n)return;const l={id:Date.now(),name:t,url:r};saveBookmark(l);try{localStorage.setItem("lastSubmittedBookmark",JSON.stringify(l))}catch(e){console.error("Failed to save the last submitted bookmark:",e)}redirectTo("/result.html")}export function isValidUrl(e){try{return new URL(e),!0}catch(e){return!1}}function saveBookmark(e){bookmarks.push(e);try{localStorage.setItem("bookmarks",JSON.stringify(bookmarks))}catch(e){console.error("Failed to save bookmarks:",e)}refreshDisplay()}function redirectTo(e){window.location.href=e}